# パスワード強度チェッカー - 使用方法とテストガイド

## 概要

このパスワード強度チェッカーは、ユーザーが入力したパスワードの強度をリアルタイムで評価し、セキュリティ向上のための具体的なアドバイスを提供する教育用Webアプリケーションです。

## ファイル構成

```
traning-mbti/
├── password_checker_app.py           # Flaskアプリケーション（メイン）
├── templates/
│   └── password_checker.html         # HTMLテンプレート
├── static/
│   ├── css/
│   │   └── password_style.css        # カスタムCSS
│   └── js/
│       └── password_checker.js       # JavaScriptロジック
├── README_PASSWORD_CHECKER.md        # このファイル
└── README_APP.md                     # 実装仕様書
```

## 起動方法

### 1. Poetry環境を有効化

```bash
# プロジェクトディレクトリに移動
cd /Users/csc-r063/Documents/github/traning-mbti

# Poetry環境をアクティブ化
poetry shell
```

### 2. アプリケーションを起動

```bash
# Flaskアプリケーションを実行
python password_checker_app.py
```

または、Poetryコマンドで直接実行:

```bash
poetry run python password_checker_app.py
```

### 3. ブラウザでアクセス

アプリケーションが起動したら、ブラウザで以下のURLにアクセス:

```
http://localhost:5000
```

## 機能テスト手順

### テストケース1: 非常に弱いパスワード

以下のパスワードを入力して、「Very Weak (非常に弱い)」と評価されることを確認:

| パスワード | 期待される結果 | 理由 |
|-----------|--------------|------|
| `password` | Very Weak | よくある単語 |
| `12345678` | Very Weak | 連番パターン |
| `qwerty123` | Very Weak | キーボード並び + 連番 |
| `aaaaaa` | Very Weak | 繰り返しパターン |

**確認項目:**
- スコアが0-20点の範囲
- 強度バーが赤色
- 改善アドバイスが表示される

### テストケース2: 弱いパスワード

| パスワード | 期待される結果 | 理由 |
|-----------|--------------|------|
| `Password1` | Weak | よくある単語の変形 |
| `MyP@ssw0rd2024` | Weak | よくある単語の類似 |

**確認項目:**
- スコアが21-40点の範囲
- 強度バーがオレンジ色
- 具体的な改善提案が表示される

### テストケース3: 普通のパスワード

| パスワード | 期待される結果 | 理由 |
|-----------|--------------|------|
| `MySecret2024` | Fair | まあまあの強度 |
| `Kx9$mP2vQr#5bN` | Fair | 良好だが長さ不足 |
| `ThisIsAVeryLongPasswordButNotVerySecure` | Fair | 長いが記号がない |

**確認項目:**
- スコアが41-60点の範囲
- 強度バーが黄色
- エントロピー値が表示される

### テストケース4: 強いパスワード

| パスワード | 期待される結果 | 理由 |
|-----------|--------------|------|
| `Tr!cky$P@ss` | Strong | 良好な強度 |
| `Tr!cky$Passw0rd_2024_Secure!` | Strong | 長く、多様な文字種 |

**確認項目:**
- スコアが61-80点の範囲
- 強度バーが水色
- 総当たり攻撃想定時間が長い

### テストケース5: 非常に強いパスワード

| パスワード | 期待される結果 | 理由 |
|-----------|--------------|------|
| `xK9$mP2vQr#5bN` | Very Strong | 優秀な強度 |
| `Kx9$mP2vQr#5bN8wL4hF!gT` | Very Strong | 最高レベル |

**確認項目:**
- スコアが81-100点の範囲
- 強度バーが緑色
- アドバイスが「優れたパスワードです！」

## 機能テスト: UI/UX

### 1. パスワード表示/非表示トグル

**手順:**
1. パスワードを入力
2. 目のアイコンをクリック
3. パスワードが表示されることを確認
4. もう一度クリックして非表示に戻ることを確認

**期待される動作:**
- アイコンが目のアイコンと斜線付き目のアイコンで切り替わる
- テキストが表示/非表示される

### 2. クリップボードコピー

**手順:**
1. パスワードを入力
2. クリップボードアイコンをクリック
3. 別のテキストフィールドに貼り付け（Ctrl+V / Cmd+V）

**期待される動作:**
- 「パスワードをクリップボードにコピーしました」というトースト通知が表示される
- 貼り付けたテキストが入力したパスワードと一致する

### 3. ランダムパスワード生成

**手順:**
1. 「パスワードを生成」ボタンをクリック
2. 3つのランダムパスワードが表示されることを確認
3. いずれかのパスワードをクリック

**期待される動作:**
- 3つの異なるパスワードが生成される
- 各パスワードは12〜16文字
- すべての文字種（小文字、大文字、数字、記号）を含む
- クリックしたパスワードが入力フィールドに適用される
- 「パスワードを適用しました」というトースト通知が表示される
- 自動的に強度評価が実行される

### 4. キーボード操作

**手順:**
1. Tabキーでフォーカスを移動
2. 生成されたパスワードにフォーカスを当てる
3. EnterキーまたはSpaceキーで選択

**期待される動作:**
- すべての要素がキーボードで操作可能
- フォーカスが視覚的に確認できる
- Enterキー/Spaceキーで選択が機能する

## 詳細機能の確認

### エントロピー計算の検証

以下のパスワードでエントロピー値を確認:

| パスワード | 文字種 | 長さ | 期待エントロピー (概算) |
|-----------|-------|------|---------------------|
| `abcdefgh` | 小文字のみ | 8 | 約37.6 bits |
| `Abcdefgh` | 小+大文字 | 8 | 約45.6 bits |
| `Abcdef12` | 小+大+数字 | 8 | 約47.6 bits |
| `Abc@#123` | すべて | 8 | 約52.4 bits |

**計算式:**
```
エントロピー = 長さ × log2(文字プールサイズ)
```

### 総当たり攻撃想定時間の検証

| エントロピー | 期待される想定時間 (概算) |
|------------|---------------------|
| 30 bits | 数秒〜数分 |
| 40 bits | 数時間〜数日 |
| 50 bits | 数年 |
| 60 bits | 数千年 |
| 70 bits | 数百万年 |
| 80 bits | 数十億年 |

## アクセシビリティのテスト

### 1. スクリーンリーダー

**テスト項目:**
- すべての入力要素に適切なラベルがある
- aria-label属性が設定されている
- 状態変化が通知される

### 2. コントラスト比

**テスト項目:**
- テキストと背景のコントラスト比が4.5:1以上
- 色だけでなくテキストでも情報を伝達
- 色覚異常者でも判別可能

### 3. キーボードナビゲーション

**テスト項目:**
- マウスなしですべての機能が使える
- Tabキーで論理的な順序で移動
- フォーカスが視覚的に明確

## トラブルシューティング

### 問題: ページが表示されない

**解決方法:**
1. Flaskアプリケーションが正常に起動しているか確認
2. ポート5000が他のアプリケーションで使用されていないか確認
3. ブラウザのコンソールでエラーを確認

### 問題: JavaScriptが動作しない

**解決方法:**
1. ブラウザのコンソールを開いてエラーメッセージを確認
2. JavaScriptファイルが正しく読み込まれているか確認
3. ブラウザのキャッシュをクリア

### 問題: クリップボードコピーが動作しない

**解決方法:**
1. HTTPSまたはlocalhostで実行しているか確認（セキュリティ要件）
2. ブラウザのクリップボード権限を確認
3. 古いブラウザの場合、フォールバック機能が動作するか確認

## セキュリティに関する注意事項

### 教育目的での使用

このアプリケーションは教育目的で作成されています。以下の点に注意してください:

1. **パスワードはサーバーに送信されません**
   - すべての処理はクライアント側（ブラウザ）で実行
   - プライバシーが保護されます

2. **本番環境での使用**
   - 実際のパスワード管理にはパスワードマネージャーを使用
   - 二段階認証を併用することを推奨
   - HTTPS通信を使用（本番環境）

3. **評価の限界**
   - この評価はあくまで参考値
   - より詳細な評価には専門的なツール（zxcvbnなど）を使用
   - 定期的なパスワード変更も重要

## カスタマイズ

### 辞書の追加

`password_checker.js`の`COMMON_PASSWORDS`配列に単語を追加できます:

```javascript
const COMMON_PASSWORDS = [
    'password', 'qwerty', '123456',
    // 追加する単語
    'yourword1', 'yourword2'
];
```

### スコアリングの調整

`calculatePasswordScore`関数内で各項目の点数を調整できます:

```javascript
// 長さによる評価
if (length >= 16) {
    details.length = 30;  // この値を調整
}
```

### UI色の変更

`password_style.css`で色を変更できます:

```css
.strength-very-strong {
    background-color: #28a745 !important;  /* 緑色を変更 */
}
```

## パフォーマンス最適化

### 1. デバウンス処理の追加（オプション）

連続入力時の負荷を軽減するため、デバウンス処理を追加できます:

```javascript
let debounceTimer;
passwordInput.addEventListener('input', function() {
    clearTimeout(debounceTimer);
    debounceTimer = setTimeout(() => {
        updateUI(this.value);
    }, 300); // 300ms待機
});
```

### 2. 大規模辞書の使用

より包括的な辞書を使用する場合は、効率的な検索アルゴリズム（トライ木など）の実装を検討してください。

## まとめ

このパスワード強度チェッカーは、以下を学ぶための教育的なツールです:

- **パスワードセキュリティの基礎**
- **エントロピーとランダム性の重要性**
- **よくある攻撃パターン**
- **アクセシブルなWebアプリケーションの開発**

質問や改善提案がある場合は、プロジェクトのIssueを作成してください。

---

**最終更新:** 2025年11月7日  
**バージョン:** 1.0.0

